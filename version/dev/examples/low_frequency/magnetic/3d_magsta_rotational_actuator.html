
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3D Rotational Actuator &#8212; PyAEDT Examples</title>

  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css\ansys_sphinx_theme.css?v=d2ac875c" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/nbsphinx-code-cells.css?v=2aa19091" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=9233c59b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/highlight.css?v=500661c4" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>
 
<link href="../../../_static/css/breadcrumbs.css" rel="stylesheet" />

    <script src="../../../_static/documentation_options.js?v=e7fb764e"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=49e1bf35"></script>
    <script src="../../../_static/js\table.js?v=b64f5182"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/low_frequency/magnetic/3d_magsta_rotational_actuator';</script>
    <link rel="icon" href="../../../_static/ansys-favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Magnetic behavior of a magnet-collector system" href="magnet_collector.html" />
    <link rel="prev" title="2D Axi-symmetric Actuator" href="2d-axi_magnetostatic_actuator.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <link rel="canonical" href="https://examples.aedt.docs.pyansys.com/version/stable/examples/low_frequency/magnetic/3d_magsta_rotational_actuator.html" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container"><!-- Debugging: html_theme_options =  -->

  <!-- If there is no MeiliSearch enabled, use the PyData search -->
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

   
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="https://www.ansys.com/">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/ansys_logo_transparent_black.png" class="logo__image only-light" alt="PyAEDT Examples - Home"/>
    <script>document.write(`<img src="../../../_static/ansys_logo_transparent_white.png" class="logo__image only-dark" alt="PyAEDT Examples - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../index.html">
    Examples
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyaedt-examples" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyaedt-examples/discussions" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-comment fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
    

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../index.html">
    Examples
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyaedt-examples" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyaedt-examples/discussions" title="Support" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa fa-comment fa-fw fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Support</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../aedt/index.html">Examples by AEDT application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../high_frequency/index.html">High frequency</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">Low frequency</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../general/index.html">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../motor/index.html">Motor</a></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="index.html">Magnetics</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="transient_winding.html">Transient winding analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="choke.html">Choke setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="magneto_motive_line.html">Magnetomotive force along a line</a></li>


<li class="toctree-l3"><a class="reference internal" href="lorentz_actuator.html">Lorentz actuator</a></li>
<li class="toctree-l3"><a class="reference internal" href="2d-axi_magnetostatic_actuator.html">2D Axi-symmetric Actuator</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">3D Rotational Actuator</a></li>
<li class="toctree-l3"><a class="reference internal" href="magnet_collector.html">Magnetic behavior of a magnet-collector system</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../team_problem/index.html">T.E.A.M.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multiphysics/index.html">Multiphysics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../aedt_general/report/index.html">Report</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../electrothermal/index.html">Electrothermal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aedt_general/index.html">Pre-processing and post-processing</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.pyansys.com/" class="nav-link">PyAnsys</a>
    </li>
       
    <li class="breadcrumb-item">
      <a href="https://aedt.docs.pyansys.com/" class="nav-link">PyAEDT</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../../../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="../../index.html" class="nav-link">Examples</a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="../index.html" class="nav-link">Low frequency</a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="index.html" class="nav-link">Magnetics</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page">3D Rotational Actuator</li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="admonition-download-this-example admonition">
<p class="admonition-title">Download this example</p>
<p>Download this example as a <a class="reference external" href="https://examples.aedt.docs.pyansys.com/version/dev/examples/low_frequency/magnetic/3d_magsta_rotational_actuator.ipynb">Jupyter Notebook</a>
or as a <a class="reference external" href="https://examples.aedt.docs.pyansys.com/version/dev/examples/low_frequency/magnetic/3d_magsta_rotational_actuator.py">Python script</a>.</p>
</div>
<hr class="docutils" />
<section id="3D-Rotational-Actuator">
<h1>3D Rotational Actuator<a class="headerlink" href="#3D-Rotational-Actuator" title="Link to this heading">#</a></h1>
<p>In this example the rotational position of the actuator is defined and controlled by a global parameter named <code class="docutils literal notranslate"><span class="pre">angle</span></code>. By leveraging the magnetostatics formulation we can sweep through the rotational motion and calculate the change in coil inductance, and field in a non-linear core.</p>
<p>The model also shows how to set up a custom non-linear material using BH curve data.</p>
<p>Keywords: <strong>Maxwell3D</strong>, <strong>3D</strong>, <strong>magnetostatic</strong>, <strong>rotational motion</strong>, <strong>parametric sweep</strong>, <strong>inductance</strong>, <strong>installation example</strong></p>
<section id="Prerequisites">
<h2>Prerequisites<a class="headerlink" href="#Prerequisites" title="Link to this heading">#</a></h2>
<section id="Perform-imports">
<h3>Perform imports<a class="headerlink" href="#Perform-imports" title="Link to this heading">#</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">ansys.aedt.core</span>  <span class="c1"># Interface to Ansys Electronics Desktop</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.aedt.core.generic.constants</span><span class="w"> </span><span class="kn">import</span> <span class="n">Axis</span>
<br/></pre></div>
</div>
</div>
</section>
<section id="Define-constants">
<h3>Define constants<a class="headerlink" href="#Define-constants" title="Link to this heading">#</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">AEDT_VERSION</span> <span class="o">=</span> <span class="s2">&quot;2025.2&quot;</span>
<span class="n">NUM_CORES</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">NG_MODE</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Open AEDT UI when it is launched.</span>
</pre></div>
</div>
</div>
</section>
<section id="Create-temporary-directory">
<h3>Create temporary directory<a class="headerlink" href="#Create-temporary-directory" title="Link to this heading">#</a></h3>
<p>Create a temporary working directory. The name of the working folder is stored in <code class="docutils literal notranslate"><span class="pre">temp_folder.name</span></code>.</p>
<blockquote>
<div><p><strong>Note:</strong> The final cell in the notebook cleans up the temporary folder. If you want to retrieve the AEDT project and data, do so before executing the final cell in the notebook.</p>
</div></blockquote>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_folder</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.ansys&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Launch-Maxwell-3d">
<h3>Launch Maxwell 3d<a class="headerlink" href="#Launch-Maxwell-3d" title="Link to this heading">#</a></h3>
<p>Create an instance of the <code class="docutils literal notranslate"><span class="pre">Maxwell3d</span></code> class. The Ansys Electronics Desktop will be launched with an active Maxwell2D design. The <code class="docutils literal notranslate"><span class="pre">m3d</span></code> object is subsequently used to create and simulate the actuator model.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">project_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_folder</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;rotational_actuator.aedt&quot;</span><span class="p">)</span>
<span class="n">m3d</span> <span class="o">=</span> <span class="n">ansys</span><span class="o">.</span><span class="n">aedt</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">Maxwell3d</span><span class="p">(</span>
    <span class="n">project</span><span class="o">=</span><span class="n">project_name</span><span class="p">,</span>
    <span class="n">design</span><span class="o">=</span><span class="s2">&quot;3d_magsta_actuator&quot;</span><span class="p">,</span>
    <span class="n">solution_type</span><span class="o">=</span><span class="s2">&quot;Magnetostatic&quot;</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="n">AEDT_VERSION</span><span class="p">,</span>
    <span class="n">non_graphical</span><span class="o">=</span><span class="n">NG_MODE</span><span class="p">,</span>
    <span class="n">new_desktop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Python version 3.10.11 (tags/v3.10.11:7d4cc5a, Apr  5 2023, 00:38:17) [MSC v.1929 64 bit (AMD64)].
PyAEDT INFO: PyAEDT version 0.25.dev0.
PyAEDT INFO: Initializing new Desktop session.
PyAEDT INFO: Log on console is enabled.
PyAEDT INFO: Log on file C:\Users\ansys\AppData\Local\Temp\pyaedt_ansys_5ed7a751-0024-4b93-99ad-cad7825d6d15.log is enabled.
PyAEDT INFO: Log on AEDT is disabled.
PyAEDT INFO: Starting new AEDT gRPC session.
PyAEDT INFO: AEDT installation Path C:\Program Files\ANSYS Inc\v252\AnsysEM
PyAEDT INFO: Client application successfully started.
PyAEDT INFO: New AEDT gRPC session session started on port 50051.
PyAEDT INFO: 2025.2 version started with process ID 4600.
PyAEDT WARNING: Service Pack is not detected. PyAEDT is currently connecting in Insecure Mode.
PyAEDT WARNING: Please download and install latest Service Pack to use connect to AEDT in Secure Mode.
PyAEDT INFO: Debug logger is disabled. PyAEDT methods will not be logged.
PyAEDT INFO: Project rotational_actuator has been created.
PyAEDT INFO: Added design &#39;3d_magsta_actuator&#39; of type Maxwell 3D.
PyAEDT INFO: Aedt Objects correctly read
</pre></div></div>
</div>
</section>
</section>
<section id="Model-Preparation">
<h2>Model Preparation<a class="headerlink" href="#Model-Preparation" title="Link to this heading">#</a></h2>
<section id="Declare-and-initialize-design-parameters">
<h3>Declare and initialize design parameters<a class="headerlink" href="#Declare-and-initialize-design-parameters" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">angle</span></code> parameter will be used to sweep through the actuators rotational motion</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="p">[</span><span class="s2">&quot;angle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;0deg&quot;</span>
</pre></div>
</div>
</div>
</section>
<section id="Create-3D-model">
<h3>Create 3D model<a class="headerlink" href="#Create-3D-model" title="Link to this heading">#</a></h3>
<section id="Set-model-units">
<h4>Set model units<a class="headerlink" href="#Set-model-units" title="Link to this heading">#</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">model_units</span> <span class="o">=</span> <span class="s2">&quot;mm&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Modeler class has been initialized! Elapsed time: 0m 1sec
</pre></div></div>
</div>
</section>
<section id="Create-non-linear-magnetic-material-with-single-valued-BH-curve">
<h4>Create non-linear magnetic material with single valued BH curve<a class="headerlink" href="#Create-non-linear-magnetic-material-with-single-valued-BH-curve" title="Link to this heading">#</a></h4>
<p>Create list with BH curve data</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bh_curve</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">4000.0</span><span class="p">,</span> <span class="mf">1.413</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">8010.0</span><span class="p">,</span> <span class="mf">1.594</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">16010.0</span><span class="p">,</span> <span class="mf">1.751</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">24020.0</span><span class="p">,</span> <span class="mf">1.839</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">32030.0</span><span class="p">,</span> <span class="mf">1.896</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">40030.0</span><span class="p">,</span> <span class="mf">1.936</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">48040.0</span><span class="p">,</span> <span class="mf">1.967</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">64050.0</span><span class="p">,</span> <span class="mf">2.008</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">80070.0</span><span class="p">,</span> <span class="mf">2.042</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">96080.0</span><span class="p">,</span> <span class="mf">2.073</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">112100.0</span><span class="p">,</span> <span class="mf">2.101</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">128110.0</span><span class="p">,</span> <span class="mf">2.127</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">144120.0</span><span class="p">,</span> <span class="mf">2.151</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">176150.0</span><span class="p">,</span> <span class="mf">2.197</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">208180.0</span><span class="p">,</span> <span class="mf">2.24</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">272230.0</span><span class="p">,</span> <span class="mf">2.325</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">304260.0</span><span class="p">,</span> <span class="mf">2.37</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">336290.0</span><span class="p">,</span> <span class="mf">2.42</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">396000.0</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">],</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<p>Create custom material and add it to the AEDT library using the <code class="docutils literal notranslate"><span class="pre">add_material</span></code> method</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">arm_steel</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">add_material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;arm_steel&quot;</span><span class="p">)</span>
<span class="n">arm_steel</span><span class="o">.</span><span class="n">conductivity</span> <span class="o">=</span> <span class="mi">2000000</span>
<span class="n">arm_steel</span><span class="o">.</span><span class="n">permeability</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">bh_curve</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Materials class has been initialized! Elapsed time: 0m 0sec
PyAEDT INFO: Adding new material to the Project Library: arm_steel
PyAEDT INFO: Material has been added in Desktop.
</pre></div></div>
</div>
</section>
<section id="Create-outer-arm">
<h4>Create outer arm<a class="headerlink" href="#Create-outer-arm" title="Link to this heading">#</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outer_arm</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_cylinder</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Z</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">radius</span><span class="o">=</span><span class="mf">104.5</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">25.4</span><span class="p">,</span> <span class="n">num_sides</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Outer_arm&quot;</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">arm_steel</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">cylinder_tool</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_cylinder</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Z</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">radius</span><span class="o">=</span><span class="mf">83.1</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">25.4</span><span class="p">,</span> <span class="n">num_sides</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Cylinder_tool&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">subtract</span><span class="p">([</span><span class="n">outer_arm</span><span class="p">],</span> <span class="p">[</span><span class="n">cylinder_tool</span><span class="p">],</span> <span class="n">keep_originals</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">box_1</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_box</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">13.9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">sizes</span><span class="o">=</span><span class="p">[</span><span class="mf">27.8</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">,</span> <span class="mf">25.4</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Box1&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">box_1</span><span class="p">,</span> <span class="n">vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">45</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">duplicate_and_mirror</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">box_1</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">unite</span><span class="p">([</span><span class="n">outer_arm</span><span class="p">,</span> <span class="n">box_1</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">box_1</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_1&quot;</span><span class="p">])</span>
<span class="n">cylinder_1</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_cylinder</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Z</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">radius</span><span class="o">=</span><span class="mf">53.75</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">25.4</span><span class="p">,</span> <span class="n">num_sides</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Cylinder1&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">subtract</span><span class="p">([</span><span class="n">outer_arm</span><span class="p">],</span> <span class="p">[</span><span class="n">cylinder_1</span><span class="p">],</span> <span class="n">keep_originals</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">outer_arm</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;(192 192 192)&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Parsing design objects. This operation can take time
PyAEDT INFO: Refreshing bodies from Object Info
PyAEDT INFO: Bodies Info Refreshed Elapsed time: 0m 0sec
PyAEDT INFO: 3D Modeler objects parsed. Elapsed time: 0m 0sec
PyAEDT INFO: Parsing design objects. This operation can take time
PyAEDT INFO: Refreshing bodies from Object Info
PyAEDT INFO: Bodies Info Refreshed Elapsed time: 0m 0sec
PyAEDT INFO: 3D Modeler objects parsed. Elapsed time: 0m 0sec
PyAEDT INFO: Union of 3 objects has been executed.
PyAEDT INFO: Parsing design objects. This operation can take time
PyAEDT INFO: Refreshing bodies from Object Info
PyAEDT INFO: Bodies Info Refreshed Elapsed time: 0m 0sec
PyAEDT INFO: 3D Modeler objects parsed. Elapsed time: 0m 0sec
</pre></div></div>
</div>
</section>
<section id="Create-inner-arm">
<h4>Create inner arm<a class="headerlink" href="#Create-inner-arm" title="Link to this heading">#</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inner_arm</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_cylinder</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Z</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">radius</span><span class="o">=</span><span class="mf">38.1</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">25.4</span><span class="p">,</span> <span class="n">num_sides</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Inner_arm&quot;</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">arm_steel</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">shaft</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_cylinder</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Z</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">radius</span><span class="o">=</span><span class="mf">25.4</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">25.4</span><span class="p">,</span> <span class="n">num_sides</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;shaft&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">subtract</span><span class="p">([</span><span class="n">inner_arm</span><span class="p">],</span> <span class="p">[</span><span class="n">shaft</span><span class="p">],</span> <span class="n">keep_originals</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">box_2</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_box</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">12.7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">sizes</span><span class="o">=</span><span class="p">[</span><span class="mf">25.4</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mf">25.4</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Box2&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">box_2</span><span class="p">,</span> <span class="n">vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">35</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">duplicate_and_mirror</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">box_2</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">unite</span><span class="p">([</span><span class="n">inner_arm</span><span class="p">,</span> <span class="n">box_2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">box_2</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_1&quot;</span><span class="p">])</span>
<span class="n">finalpole2</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_cylinder</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Z</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">radius</span><span class="o">=</span><span class="mf">51.05</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">25.4</span><span class="p">,</span> <span class="n">num_sides</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;finalpole2&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="p">[</span><span class="n">inner_arm</span><span class="p">,</span> <span class="n">finalpole2</span><span class="p">])</span>
<span class="n">inner_arm</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;(192 192 192)&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Parsing design objects. This operation can take time
PyAEDT INFO: Refreshing bodies from Object Info
PyAEDT INFO: Bodies Info Refreshed Elapsed time: 0m 0sec
PyAEDT INFO: 3D Modeler objects parsed. Elapsed time: 0m 0sec
PyAEDT INFO: Parsing design objects. This operation can take time
PyAEDT INFO: Refreshing bodies from Object Info
PyAEDT INFO: Bodies Info Refreshed Elapsed time: 0m 0sec
PyAEDT INFO: 3D Modeler objects parsed. Elapsed time: 0m 0sec
PyAEDT INFO: Union of 3 objects has been executed.
PyAEDT INFO: Parsing design objects. This operation can take time
PyAEDT INFO: Refreshing bodies from Object Info
PyAEDT INFO: Bodies Info Refreshed Elapsed time: 0m 0sec
PyAEDT INFO: 3D Modeler objects parsed. Elapsed time: 0m 0sec
PyAEDT INFO: Intersection Succeeded
</pre></div></div>
</div>
</section>
<section id="Create-a-local/relative-coordinate-system">
<h4>Create a local/relative coordinate system<a class="headerlink" href="#Create-a-local/relative-coordinate-system" title="Link to this heading">#</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_coordinate_system</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">12.7</span><span class="p">],</span> <span class="n">reference_cs</span><span class="o">=</span><span class="s2">&quot;Global&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;RelativeCS1&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;axis&quot;</span><span class="p">,</span> <span class="n">x_pointing</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">y_pointing</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
RelativeCS1
</pre></div></div>
</div>
</section>
<section id="Apply-rotation-on-relative-coordinate-system">
<h4>Apply rotation on relative coordinate system<a class="headerlink" href="#Apply-rotation-on-relative-coordinate-system" title="Link to this heading">#</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="p">[</span><span class="n">inner_arm</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;RelativeCS1&quot;</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="s2">&quot;angle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
</section>
<section id="Create-coils">
<h4>Create coils<a class="headerlink" href="#Create-coils" title="Link to this heading">#</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">coil1</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_rectangle</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">15.5</span><span class="p">],</span> <span class="n">sizes</span><span class="o">=</span><span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">24</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;coil1&quot;</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="s2">&quot;copper&quot;</span><span class="p">)</span>
<span class="n">coil1</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;(249 186 70)&quot;</span>
<span class="n">path_rectangle</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_rectangle</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Y</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.5</span><span class="p">],</span> <span class="n">sizes</span><span class="o">=</span><span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">34</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;path&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">uncover_faces</span><span class="p">([</span><span class="n">path_rectangle</span><span class="o">.</span><span class="n">faces</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">sweep_along_path</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil1</span><span class="p">,</span> <span class="n">sweep_object</span><span class="o">=</span><span class="n">path_rectangle</span><span class="p">)</span>
<span class="nb">round</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_cylinder</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Axis</span><span class="o">.</span><span class="n">Y</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">radius</span><span class="o">=</span><span class="mf">46.238512086788</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="n">num_sides</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Round&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">intersect</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="p">[</span><span class="n">coil1</span><span class="p">,</span> <span class="nb">round</span><span class="p">])</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil1</span><span class="p">,</span> <span class="n">vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">54.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">duplicate_and_mirror</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil1</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil1</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="s2">&quot;XY&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil1</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_1&quot;</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="s2">&quot;XY&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Parsing design objects. This operation can take time
PyAEDT INFO: Refreshing bodies from Object Info
PyAEDT INFO: Bodies Info Refreshed Elapsed time: 0m 0sec
PyAEDT INFO: 3D Modeler objects parsed. Elapsed time: 0m 0sec
PyAEDT INFO: Parsing design objects. This operation can take time
PyAEDT INFO: Refreshing bodies from Object Info
PyAEDT INFO: Bodies Info Refreshed Elapsed time: 0m 0sec
PyAEDT INFO: 3D Modeler objects parsed. Elapsed time: 0m 0sec
PyAEDT INFO: Intersection Succeeded
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
</section>
<section id="Create-air-region">
<h4>Create air region<a class="headerlink" href="#Create-air-region" title="Link to this heading">#</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bgnd</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_box</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">250</span><span class="p">,</span> <span class="o">-</span><span class="mi">250</span><span class="p">,</span> <span class="o">-</span><span class="mi">250</span><span class="p">],</span> <span class="n">sizes</span><span class="o">=</span><span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">500</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;bgnd&quot;</span><span class="p">)</span>
<span class="n">bgnd</span><span class="o">.</span><span class="n">transparency</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</section>
<section id="Create-Coil-Terminals-by-Separating-Sheet-bodies">
<h4>Create Coil Terminals by Separating Sheet bodies<a class="headerlink" href="#Create-Coil-Terminals-by-Separating-Sheet-bodies" title="Link to this heading">#</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">coil_terminal1</span> <span class="o">=</span> <span class="n">coil1</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_1_Section1_Separate1&quot;</span>
<span class="n">coil_terminal2</span> <span class="o">=</span> <span class="n">coil1</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_Section1&quot;</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">separate_bodies</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil_terminal2</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil1</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_Section1_Separate1&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">separate_bodies</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil1</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_1_Section1&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil1</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_1_Section1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Parsing design objects. This operation can take time
PyAEDT INFO: Refreshing bodies from Object Info
PyAEDT INFO: Bodies Info Refreshed Elapsed time: 0m 0sec
PyAEDT INFO: 3D Modeler objects parsed. Elapsed time: 0m 0sec
PyAEDT INFO: Deleted 1 Objects: coil1_Section1_Separate1.
PyAEDT INFO: Parsing design objects. This operation can take time
PyAEDT INFO: Refreshing bodies from Object Info
PyAEDT INFO: Bodies Info Refreshed Elapsed time: 0m 0sec
PyAEDT INFO: 3D Modeler objects parsed. Elapsed time: 0m 0sec
PyAEDT INFO: Deleted 1 Objects: coil1_1_Section1.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">fit_all</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Assign-boundary-conditions">
<h3>Assign boundary conditions<a class="headerlink" href="#Assign-boundary-conditions" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="o">.</span><span class="n">assign_current</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil_terminal1</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="mf">675.5</span><span class="p">,</span> <span class="n">solid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Current_1&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">assign_current</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">coil_terminal2</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="mf">675.5</span><span class="p">,</span> <span class="n">solid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Current_2&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Boundary Current Current_1 has been created.
PyAEDT INFO: Boundary Current Current_2 has been created.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Current_2
</pre></div></div>
</div>
</section>
<section id="Define-solution-setup">
<h3>Define solution setup<a class="headerlink" href="#Define-solution-setup" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="o">.</span><span class="n">assign_matrix</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Current_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Current_2&quot;</span><span class="p">],</span> <span class="n">matrix_name</span><span class="o">=</span><span class="s2">&quot;Matrix1&quot;</span><span class="p">)</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">assign_torque</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="n">inner_arm</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">is_virtual</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">coordinate_system</span><span class="o">=</span><span class="s2">&quot;Global&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;Z&quot;</span><span class="p">,</span> <span class="n">torque_name</span><span class="o">=</span><span class="s2">&quot;Virtual_Torque&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Boundary Matrix Matrix1 has been created.
PyAEDT INFO: Boundary Torque Virtual_Torque has been created.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Virtual_Torque
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">setup</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">create_setup</span><span class="p">(</span><span class="s2">&quot;MySetup&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setup</span><span class="o">.</span><span class="n">props</span><span class="p">)</span>
<span class="n">setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;MaximumPasses&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;PercentRefinement&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;PercentError&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;MinimumPasses&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;RelativeResidual&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1e-3</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;Enabled&#39;: True, &#39;MeshLink&#39;: {&#39;ImportMesh&#39;: False}, &#39;MaximumPasses&#39;: 10, &#39;MinimumPasses&#39;: 2, &#39;MinimumConvergedPasses&#39;: 1, &#39;PercentRefinement&#39;: 30, &#39;SolveFieldOnly&#39;: False, &#39;PercentError&#39;: 1, &#39;SolveMatrixAtLast&#39;: True, &#39;UseIterativeSolver&#39;: False, &#39;RelativeResidual&#39;: 1e-06, &#39;NonLinearResidual&#39;: 0.001, &#39;SmoothBHCurve&#39;: False, &#39;MuOption&#39;: {&#39;MuNonLinearBH&#39;: True}, &#39;Name&#39;: &#39;MySetup&#39;}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">parametric_sweep</span> <span class="o">=</span> <span class="n">m3d</span><span class="o">.</span><span class="n">parametrics</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">variable</span><span class="o">=</span><span class="s2">&quot;angle&quot;</span><span class="p">,</span> <span class="n">start_point</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="n">end_point</span><span class="o">=</span><span class="s2">&quot;30&quot;</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="n">variation_type</span><span class="o">=</span><span class="s2">&quot;LinearStep&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ParametricSetup1&quot;</span><span class="p">)</span>
<span class="n">parametric_sweep</span><span class="o">.</span><span class="n">add_calculation</span><span class="p">(</span><span class="n">calculation</span><span class="o">=</span><span class="s2">&quot;Virtual_Torque.Torque&quot;</span><span class="p">)</span>
<span class="n">parametric_sweep</span><span class="o">.</span><span class="n">add_calculation</span><span class="p">(</span><span class="n">calculation</span><span class="o">=</span><span class="s2">&quot;Matrix1.L(Current_1, Current_1)&quot;</span><span class="p">)</span>
<span class="n">parametric_sweep</span><span class="o">.</span><span class="n">add_calculation</span><span class="p">(</span><span class="n">calculation</span><span class="o">=</span><span class="s2">&quot;Matrix1.L(Current_1, Current_2)&quot;</span><span class="p">)</span>
<span class="n">parametric_sweep</span><span class="o">.</span><span class="n">add_calculation</span><span class="p">(</span><span class="n">calculation</span><span class="o">=</span><span class="s2">&quot;Matrix1.L(Current_2, Current_1)&quot;</span><span class="p">)</span>
<span class="n">parametric_sweep</span><span class="o">.</span><span class="n">add_calculation</span><span class="p">(</span><span class="n">calculation</span><span class="o">=</span><span class="s2">&quot;Matrix1.L(Current_2, Current_2)&quot;</span><span class="p">)</span>
<span class="n">parametric_sweep</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;ProdOptiSetupDataV2&quot;</span><span class="p">][</span><span class="s2">&quot;SaveFields&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Parsing C:\Users\ansys\AppData\Local\Temp\tmpojx0a_v9.ansys\rotational_actuator.aedt.
PyAEDT INFO: File C:\Users\ansys\AppData\Local\Temp\tmpojx0a_v9.ansys\rotational_actuator.aedt correctly loaded. Elapsed time: 0m 0sec
PyAEDT INFO: aedt file load time 0.014508724212646484
</pre></div></div>
</div>
</section>
<section id="Run-analysis">
<h3>Run analysis<a class="headerlink" href="#Run-analysis" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">parametric_sweep</span><span class="o">.</span><span class="n">analyze</span><span class="p">(</span><span class="n">cores</span><span class="o">=</span><span class="n">NUM_CORES</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Project rotational_actuator Saved correctly
PyAEDT INFO: Key Desktop/ActiveDSOConfigurations/Maxwell 3D correctly changed.
PyAEDT INFO: Solving Optimetrics
PyAEDT INFO: Design setup ParametricSetup1 solved correctly in 0.0h 0.0m 60.0s
PyAEDT INFO: Key Desktop/ActiveDSOConfigurations/Maxwell 3D correctly changed.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
</section>
</section>
<section id="Postprocess">
<h2>Postprocess<a class="headerlink" href="#Postprocess" title="Link to this heading">#</a></h2>
<section id="Create-a-Rectangular-plot-of-Coil-Inductance-vs.-Rotational-Angle">
<h3>Create a Rectangular plot of Coil Inductance vs. Rotational Angle<a class="headerlink" href="#Create-a-Rectangular-plot-of-Coil-Inductance-vs.-Rotational-Angle" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">create_report</span><span class="p">(</span>
    <span class="n">expressions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Matrix1.L(Current_1, Current_1)&quot;</span><span class="p">,</span> <span class="s2">&quot;Matrix1.L(Current_1, Current_2)&quot;</span><span class="p">],</span>
    <span class="n">variations</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;angle&quot;</span><span class="p">:</span> <span class="s2">&quot;All&quot;</span><span class="p">},</span>
    <span class="n">plot_name</span><span class="o">=</span><span class="s2">&quot;Coil Inductance vs. Angle&quot;</span><span class="p">,</span>
    <span class="n">primary_sweep_variable</span><span class="o">=</span><span class="s2">&quot;angle&quot;</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;Rectangular Plot&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Parsing C:\Users\ansys\AppData\Local\Temp\tmpojx0a_v9.ansys\rotational_actuator.aedt.
PyAEDT INFO: File C:\Users\ansys\AppData\Local\Temp\tmpojx0a_v9.ansys\rotational_actuator.aedt correctly loaded. Elapsed time: 0m 0sec
PyAEDT INFO: aedt file load time 0.047457218170166016
PyAEDT INFO: PostProcessor class has been initialized! Elapsed time: 0m 0sec
PyAEDT INFO: PostProcessor class has been initialized! Elapsed time: 0m 0sec
PyAEDT INFO: Post class has been initialized! Elapsed time: 0m 0sec
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Coil Inductance vs. Angle
</pre></div></div>
</div>
</section>
<section id="Create-field-plots-on-the-surface-of-the-actuator's-arms">
<h3>Create field plots on the surface of the actuators arms<a class="headerlink" href="#Create-field-plots-on-the-surface-of-the-actuator's-arms" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">create_fieldplot_surface</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="p">[</span><span class="n">inner_arm</span><span class="p">,</span> <span class="n">outer_arm</span><span class="p">],</span> <span class="n">quantity</span><span class="o">=</span><span class="s2">&quot;Mag_B&quot;</span><span class="p">,</span> <span class="n">plot_name</span><span class="o">=</span><span class="s2">&quot;Mag_B1&quot;</span><span class="p">,</span> <span class="n">field_type</span><span class="o">=</span><span class="s2">&quot;Fields&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Active Design set to 3d_magsta_actuator
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Class: ansys.aedt.core.visualization.post.field_data.FieldPlot
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">create_fieldplot_surface</span><span class="p">(</span><span class="n">assignment</span><span class="o">=</span><span class="p">[</span><span class="n">inner_arm</span><span class="p">,</span> <span class="n">outer_arm</span><span class="p">],</span> <span class="n">quantity</span><span class="o">=</span><span class="s2">&quot;B_Vector&quot;</span><span class="p">,</span> <span class="n">plot_name</span><span class="o">=</span><span class="s2">&quot;B_Vector1&quot;</span><span class="p">,</span> <span class="n">field_type</span><span class="o">=</span><span class="s2">&quot;Fields&quot;</span><span class="p">)</span>  <span class="c1">#</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Active Design set to 3d_magsta_actuator
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Class: ansys.aedt.core.visualization.post.field_data.FieldPlot
</pre></div></div>
</div>
</section>
</section>
<section id="Finish">
<h2>Finish<a class="headerlink" href="#Finish" title="Link to this heading">#</a></h2>
<section id="Save-the-project">
<h3>Save the project<a class="headerlink" href="#Save-the-project" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m3d</span><span class="o">.</span><span class="n">save_project</span><span class="p">()</span>
<span class="n">m3d</span><span class="o">.</span><span class="n">release_desktop</span><span class="p">()</span>
<span class="c1"># Wait 3 seconds to allow AEDT to shut down before cleaning the temporary directory.</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PyAEDT INFO: Project rotational_actuator Saved correctly
PyAEDT INFO: Desktop has been released and closed.
</pre></div></div>
</div>
</section>
<section id="Clean-up">
<h3>Clean up<a class="headerlink" href="#Clean-up" title="Link to this heading">#</a></h3>
<p>All project files are saved in the folder <code class="docutils literal notranslate"><span class="pre">temp_folder.name</span></code>. If youve run this example as a Jupyter notebook, you can retrieve those project files. The following cell removes all temporary files, including the project folder.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_folder</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<div class="admonition-download-this-example admonition">
<p class="admonition-title">Download this example</p>
<p>Download this example as a <a class="reference external" href="https://examples.aedt.docs.pyansys.com/version/dev/examples/low_frequency/magnetic/3d_magsta_rotational_actuator.ipynb">Jupyter Notebook</a>
or as a <a class="reference external" href="https://examples.aedt.docs.pyansys.com/version/dev/examples/low_frequency/magnetic/3d_magsta_rotational_actuator.py">Python script</a>.</p>
</div>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Prerequisites">Prerequisites</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Perform-imports">Perform imports</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Define-constants">Define constants</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-temporary-directory">Create temporary directory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Launch-Maxwell-3d">Launch Maxwell 3d</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Model-Preparation">Model Preparation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Declare-and-initialize-design-parameters">Declare and initialize design parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-3D-model">Create 3D model</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Set-model-units">Set model units</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-non-linear-magnetic-material-with-single-valued-BH-curve">Create non-linear magnetic material with single valued BH curve</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-outer-arm">Create outer arm</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-inner-arm">Create inner arm</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-a-local/relative-coordinate-system">Create a local/relative coordinate system</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Apply-rotation-on-relative-coordinate-system">Apply rotation on relative coordinate system</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-coils">Create coils</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-air-region">Create air region</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-Coil-Terminals-by-Separating-Sheet-bodies">Create Coil Terminals by Separating Sheet bodies</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Assign-boundary-conditions">Assign boundary conditions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Define-solution-setup">Define solution setup</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Run-analysis">Run analysis</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Postprocess">Postprocess</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-a-Rectangular-plot-of-Coil-Inductance-vs.-Rotational-Angle">Create a Rectangular plot of Coil Inductance vs. Rotational Angle</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-field-plots-on-the-surface-of-the-actuator's-arms">Create field plots on the surface of the actuators arms</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Finish">Finish</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Save-the-project">Save the project</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Clean-up">Clean up</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item"> 
<div class="tocsection editthispage">
  <a href="https://github.com/ansys/pyaedt-examples/edit/main/doc/source/examples/low_frequency/magnetic/3d_magsta_rotational_actuator.ipynb">
    <i class="fa-solid fa-pencil"></i>
       Edit
    on GitHub  
  </a>
</div>

</div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../../_sources/examples/low_frequency/magnetic/3d_magsta_rotational_actuator.ipynb.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
       Copyright (c) 2021 - 2026 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.0.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://sphinxdocs.ansys.com/version/stable/index.html"
    >Ansys Sphinx Theme</a
  >
  1.0.11. <br />Last updated on
  <span id="date"></span>
</p>
<script>
  var options = { day: "numeric", month: "long", year: "numeric" };
  var lastModifiedDate = new Date(document.lastModified);
  var date = lastModifiedDate.toLocaleDateString("en-US", options);
  document.getElementById("date").innerHTML = date;
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>